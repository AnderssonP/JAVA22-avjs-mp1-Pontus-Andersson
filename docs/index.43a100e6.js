let e=0,t=0;const n=["Sten","papper","sax"];function o(o,a){if(""===a)return void(document.getElementById("popup").innerText="Skriv in ditt namn först!");const d=n[Math.floor(3*Math.random())];let c;o===d?c="Lika!":"Sten"===o&&"sax"===d||"papper"===o&&"Sten"===d||"sax"===o&&"papper"===d?(c="Du vann denna rond!",e++):(c="Du förlorade denna rond!",t++),document.getElementById("result").innerText=`${a}, du valde ${o} och datorn valde ${d}. ${c}`,r(),setTimeout(function(n){const o=document.getElementById("rock-button"),r=document.getElementById("paper-button"),a=document.getElementById("scissors-button");1===t&&(document.getElementById("popup").innerText="Nu vann datorn, men du får gärna försöka igen!",o.setAttribute("disabled",!0),r.setAttribute("disabled",!0),a.setAttribute("disabled",!0),s(n,e))}(a),200)}function r(){document.getElementById("scores").innerText=`Antal vinster: ${e}`}async function s(e,t){const n="https://rock-paper-scissors-4beb1-default-rtdb.europe-west1.firebasedatabase.app/topPlayers/place",o=[];for(let e=1;e<=5;e++){const t=`${n}${e}.json`,r=await fetch(t),s=await r.json(),a=parseInt(s.score);isNaN(a)||o.push({name:s.name,score:a})}o.push({name:e,score:parseInt(t)}),o.sort(((e,t)=>t.score-e.score));for(let e=0;e<5;e++){const t=`${n}${e+1}.json`,r={name:`${o[e].name}`,score:`${o[e].score}`};document.getElementById(`nr${e}`).innerText=`${e+1}: `+r.name+" score "+r.score;const s={method:"PATCH",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8"}},a=await fetch(t,s),d=await a.json();console.log(d)}}document.getElementById("reset-button").addEventListener("click",(function(){!function(){const n=document.getElementById("rock-button"),o=document.getElementById("paper-button"),s=document.getElementById("scissors-button");e=0,t=0,r();for(var a=["popup","scores","result","player-name"],d=0;d<a.length;d++)document.getElementById(a[d]).innerHTML="";n.removeAttribute("disabled"),o.removeAttribute("disabled"),s.removeAttribute("disabled")}()}));let a="";document.querySelector("button").addEventListener("click",(e=>{e.preventDefault(),a=document.getElementById("player-name").value,r(),document.getElementById("popup").innerText=""}));document.getElementById("rock-button").addEventListener("click",(e=>{e.preventDefault(),o("Sten",a)}));document.getElementById("paper-button").addEventListener("click",(e=>{e.preventDefault(),o("papper",a)}));document.getElementById("scissors-button").addEventListener("click",(e=>{e.preventDefault(),o("sax",a)})),s();
//# sourceMappingURL=index.43a100e6.js.map
