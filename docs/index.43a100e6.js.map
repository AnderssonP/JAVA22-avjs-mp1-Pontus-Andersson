{"mappings":"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","sources":["src/js/game.js","src/js/main.js"],"sourcesContent":["let playerScore = 0;\r\nlet computerScore = 0;\r\n\r\nconst choices = [\"Sten\", \"papper\", \"sax\"];\r\n\r\nfunction makeChoice(playerChoice, playerName) {\r\n\r\n    if (playerName === \"\") {\r\n        document.getElementById(\"popup\").innerText = \"Skriv in ditt namn först!\";\r\n        return;\r\n    }\r\n    const computerChoice = choices[Math.floor(Math.random() * 3)];\r\n    let result;\r\n    if (playerChoice === computerChoice) {\r\n        result = \"Lika!\";\r\n    } else if (\r\n        (playerChoice === \"Sten\" && computerChoice === \"sax\") ||\r\n        (playerChoice === \"papper\" && computerChoice === \"Sten\") ||\r\n        (playerChoice === \"sax\" && computerChoice === \"papper\")\r\n    ) {\r\n        result = \"Du vann denna rond!\";\r\n        playerScore++;\r\n    } else {\r\n        result = \"Du förlorade denna rond!\";\r\n        computerScore++;\r\n    }\r\n\r\n\r\n    document.getElementById(\"result\").innerText = `${playerName}, du valde ${playerChoice} och datorn valde ${computerChoice}. ${result}`;\r\n\r\n    updateScores();\r\n    setTimeout(GameEnd(playerName), 200);\r\n}\r\n\r\nfunction updateScores() {\r\n    document.getElementById('scores').innerText = `Antal vinster: ${playerScore}`;\r\n}\r\n\r\nfunction GameEnd(playerName) {\r\n    const rockButton = document.getElementById(\"rock-button\");\r\n    const paperButton = document.getElementById(\"paper-button\");\r\n    const scissorsButton = document.getElementById(\"scissors-button\");\r\n\r\n    if (computerScore === 1) {\r\n        document.getElementById(\"popup\").innerText = `Nu vann datorn, men du får gärna försöka igen!`\r\n        rockButton.setAttribute(\"disabled\", true);\r\n        paperButton.setAttribute(\"disabled\", true);\r\n        scissorsButton.setAttribute(\"disabled\", true);\r\n        postToFirebase(playerName, playerScore);\r\n    }\r\n}\r\n\r\nconst resetButton = document.getElementById(\"reset-button\");\r\nresetButton.addEventListener(\"click\", function () {\r\n    resetGame();\r\n});\r\n\r\nfunction resetGame() {\r\n\r\n    const rockButton = document.getElementById(\"rock-button\");\r\n    const paperButton = document.getElementById(\"paper-button\");\r\n    const scissorsButton = document.getElementById(\"scissors-button\");\r\n\r\n    playerScore = 0;\r\n    computerScore = 0;\r\n    updateScores();\r\n    var elementsToClear = [\"popup\", \"scores\", \"result\", \"player-name\"];\r\n    for (var i = 0; i < elementsToClear.length; i++) {\r\n        document.getElementById(elementsToClear[i]).innerHTML = \"\";\r\n    }\r\n    rockButton.removeAttribute(\"disabled\");\r\n    paperButton.removeAttribute(\"disabled\");\r\n    scissorsButton.removeAttribute(\"disabled\");\r\n}\r\n\r\nasync function postToFirebase(playerName, playerScore) {\r\n    const baseUrl = 'https://rock-paper-scissors-4beb1-default-rtdb.europe-west1.firebasedatabase.app/topPlayers/place';\r\n    const scores = [];\r\n\r\n    for (let i = 1; i <= 5; i++) {\r\n        const url = `${baseUrl}${i}.json`;\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        const score = parseInt(data.score);\r\n\r\n        if (!isNaN(score)) {\r\n          scores.push({ name: data.name, score: score });\r\n        }\r\n      }\r\n\r\n    scores.push({ name: playerName, score: parseInt(playerScore) });\r\n\r\n    scores.sort((a, b) => b.score - a.score);\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n      const url = `${baseUrl}${i + 1}.json`;\r\n      const newScore = { \r\n        \"name\": `${scores[i].name}`, \r\n        \"score\":`${scores[i].score}`\r\n      }\r\n      document.getElementById(`nr${i}`).innerText = `${i+1}: ` + newScore.name +\" score \"+ newScore.score; \r\n      const options = {\r\n        method: 'PATCH',\r\n        body: JSON.stringify(newScore),\r\n        headers: {\r\n          \"Content-type\": \"application/json; charset=UTF-8\"\r\n        }\r\n      };\r\n      const response = await fetch(url, options);\r\n      const data = await response.json();\r\n      console.log(data);\r\n    }\r\n  }\r\n\r\n\r\nexport { makeChoice, GameEnd, updateScores, resetGame, postToFirebase };","import { makeChoice, GameEnd, updateScores, resetGame, postToFirebase } from \"./game.js\";\r\n\r\nlet playerName = \"\";\r\n\r\nconst formBtn = document.querySelector(\"button\")\r\nformBtn.addEventListener(\"click\", event => {\r\n  event.preventDefault();\r\n  playerName = document.getElementById(\"player-name\").value;\r\n  updateScores();\r\n  document.getElementById(\"popup\").innerText = \"\";\r\n});\r\n\r\nconst rockButton = document.getElementById(\"rock-button\");\r\nrockButton.addEventListener(\"click\", event=> {\r\n  event.preventDefault();\r\n  makeChoice(\"Sten\", playerName);\r\n});\r\n\r\nconst paperButton = document.getElementById(\"paper-button\");\r\npaperButton.addEventListener(\"click\", event => {\r\n  event.preventDefault();\r\n  makeChoice(\"papper\", playerName);\r\n});\r\n\r\nconst scissorsButton = document.getElementById(\"scissors-button\");\r\nscissorsButton.addEventListener(\"click\", event => {\r\n  event.preventDefault();\r\n  makeChoice(\"sax\", playerName);\r\n});\r\n\r\npostToFirebase();"],"names":["$2cd8a8d16458d433$var$playerScore","$2cd8a8d16458d433$var$computerScore","$2cd8a8d16458d433$var$choices","$2cd8a8d16458d433$export$73e81a1ebbe256db","playerChoice","playerName","document","getElementById","innerText","computerChoice","Math","floor","random","result","$2cd8a8d16458d433$export$9382b1dd37408c8a","setTimeout","rockButton","paperButton","scissorsButton","setAttribute","$2cd8a8d16458d433$export$448432820929b1b","$2cd8a8d16458d433$export$a41ee8d60283e95a","async","playerScore","baseUrl","scores","i","url","response","fetch","data","json","score","parseInt","isNaN","push","name","sort","a","b","newScore","options","method","body","JSON","stringify","headers","console","log","addEventListener","elementsToClear","length","innerHTML","removeAttribute","$2cd8a8d16458d433$export$8a9e2a13fbf8faaf","$54b47fc030b7b21e$var$playerName","querySelector","event","preventDefault","value"],"version":3,"file":"index.43a100e6.js.map"}